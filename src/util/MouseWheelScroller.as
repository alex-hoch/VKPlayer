/**
 * MouseWheelScroller
 * User: Alex
 * Date: 05.08.16
 * Time: 15:37
 */
package util {
	import ah.gui.core.display.list.BaseList;

	import flash.display.DisplayObject;
	import flash.events.Event;
	import flash.events.EventDispatcher;
	import flash.events.MouseEvent;

	public class MouseWheelScroller extends EventDispatcher {
		//--------------------------------------------------------------------------
		//  Constants
		//--------------------------------------------------------------------------

		//--------------------------------------------------------------------------
		//  Variables
		//--------------------------------------------------------------------------
		private var target:BaseList;

		//--------------------------------------------------------------------------
		//  Public properties
		//--------------------------------------------------------------------------

		//--------------------------------------------------------------------------
		//  Protected properties
		//--------------------------------------------------------------------------

		//--------------------------------------------------------------------------
		//  Private properties
		//--------------------------------------------------------------------------

		//--------------------------------------------------------------------------
		//  Constructor
		//--------------------------------------------------------------------------	
		public function MouseWheelScroller(target:BaseList) {
			this.target = target;
			target.addEventListener(MouseEvent.MOUSE_WHEEL, wheelHandler);
		}

		//--------------------------------------------------------------------------
		//  Public methods
		//--------------------------------------------------------------------------

		//--------------------------------------------------------------------------
		//  Protected methods
		//--------------------------------------------------------------------------

		//--------------------------------------------------------------------------
		//  Private methods
		//--------------------------------------------------------------------------

		//--------------------------------------------------------------------------
		//  Handlers
		//--------------------------------------------------------------------------
		private function wheelHandler(event:MouseEvent):void {
			var delta:int = event.delta;
			target.scrollPosition -= Math.abs(delta) / delta;
			dispatchEvent(new Event(Event.CHANGE));
		}
	}
}
